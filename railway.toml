[build]
builder = "NIXPACKS"

[deploy]
startCommand = "/opt/venv/bin/python -m symbols_mcp.server"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[[services]]
name = "symbols-mcp"
source = "."

[services.variables]
PORT = "8080"
PYTHON_VERSION = "3.11"
RAILWAY_ENVIRONMENT = "production"

# Environment variables should be set in Railway dashboard
# Do not reference them here to avoid secret detection

[[services.ports]]
port = 8080
protocol = "HTTP"
